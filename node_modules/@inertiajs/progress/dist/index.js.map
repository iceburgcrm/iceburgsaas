{"version":3,"file":"index.js","sources":["../src/progress.js"],"sourcesContent":["import NProgress from 'nprogress'\n\nlet timeout = null\n\nfunction addEventListeners(delay) {\n  document.addEventListener('inertia:start', start.bind(null, delay))\n  document.addEventListener('inertia:progress', progress)\n  document.addEventListener('inertia:finish', finish)\n}\n\nfunction start(delay) {\n  timeout = setTimeout(() => NProgress.start(), delay)\n}\n\nfunction progress(event) {\n  if (NProgress.isStarted() && event.detail.progress.percentage) {\n    NProgress.set(Math.max(NProgress.status, event.detail.progress.percentage / 100 * 0.9))\n  }\n}\n\nfunction finish(event) {\n  clearTimeout(timeout)\n  if (!NProgress.isStarted()) {\n    return\n  } else if (event.detail.visit.completed) {\n    NProgress.done()\n  } else if (event.detail.visit.interrupted) {\n    NProgress.set(0)\n  } else if (event.detail.visit.cancelled) {\n    NProgress.done()\n    NProgress.remove()\n  }\n}\n\nfunction injectCSS(color) {\n  const element = document.createElement('style')\n  element.type = 'text/css'\n  element.textContent = `\n    #nprogress {\n      pointer-events: none;\n    }\n\n    #nprogress .bar {\n      background: ${color};\n\n      position: fixed;\n      z-index: 1031;\n      top: 0;\n      left: 0;\n\n      width: 100%;\n      height: 2px;\n    }\n\n    #nprogress .peg {\n      display: block;\n      position: absolute;\n      right: 0px;\n      width: 100px;\n      height: 100%;\n      box-shadow: 0 0 10px ${color}, 0 0 5px ${color};\n      opacity: 1.0;\n\n      -webkit-transform: rotate(3deg) translate(0px, -4px);\n          -ms-transform: rotate(3deg) translate(0px, -4px);\n              transform: rotate(3deg) translate(0px, -4px);\n    }\n\n    #nprogress .spinner {\n      display: block;\n      position: fixed;\n      z-index: 1031;\n      top: 15px;\n      right: 15px;\n    }\n\n    #nprogress .spinner-icon {\n      width: 18px;\n      height: 18px;\n      box-sizing: border-box;\n\n      border: solid 2px transparent;\n      border-top-color: ${color};\n      border-left-color: ${color};\n      border-radius: 50%;\n\n      -webkit-animation: nprogress-spinner 400ms linear infinite;\n              animation: nprogress-spinner 400ms linear infinite;\n    }\n\n    .nprogress-custom-parent {\n      overflow: hidden;\n      position: relative;\n    }\n\n    .nprogress-custom-parent #nprogress .spinner,\n    .nprogress-custom-parent #nprogress .bar {\n      position: absolute;\n    }\n\n    @-webkit-keyframes nprogress-spinner {\n      0%   { -webkit-transform: rotate(0deg); }\n      100% { -webkit-transform: rotate(360deg); }\n    }\n    @keyframes nprogress-spinner {\n      0%   { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n  `\n  document.head.appendChild(element)\n}\n\nconst Progress = {\n  init({ delay = 250, color = '#29d', includeCSS = true, showSpinner = false } = {}) {\n    addEventListeners(delay)\n    NProgress.configure({ showSpinner })\n    if (includeCSS) {\n      injectCSS(color)\n    }\n  },\n}\n\nexport default Progress\n"],"names":["timeout","addEventListeners","delay","document","addEventListener","start","bind","progress","finish","setTimeout","NProgress","event","isStarted","detail","percentage","set","Math","max","status","clearTimeout","visit","completed","done","interrupted","cancelled","remove","init","color","includeCSS","showSpinner","configure","element","createElement","type","textContent","head","appendChild","injectCSS"],"mappings":"gFAEIA,EAAU,KAEd,SAASC,EAAkBC,GACzBC,SAASC,iBAAiB,gBAAiBC,EAAMC,KAAK,KAAMJ,IAC5DC,SAASC,iBAAiB,mBAAoBG,GAC9CJ,SAASC,iBAAiB,iBAAkBI,GAG9C,SAASH,EAAMH,GACbF,EAAUS,WAAW,kBAAMC,EAAUL,SAASH,GAGhD,SAASK,EAASI,GACZD,EAAUE,aAAeD,EAAME,OAAON,SAASO,YACjDJ,EAAUK,IAAIC,KAAKC,IAAIP,EAAUQ,OAAQP,EAAME,OAAON,SAASO,WAAa,IAAM,KAItF,SAASN,EAAOG,GACdQ,aAAanB,GACRU,EAAUE,cAEJD,EAAME,OAAOO,MAAMC,UAC5BX,EAAUY,OACDX,EAAME,OAAOO,MAAMG,YAC5Bb,EAAUK,IAAI,GACLJ,EAAME,OAAOO,MAAMI,YAC5Bd,EAAUY,OACVZ,EAAUe,mCAkFG,CACfC,kCAA+E,SAAxExB,UAAayB,MAAAA,aAAQ,aAAQC,WAAAA,oBAAmBC,YAAAA,gBACrD5B,aADa,OAEbS,EAAUoB,UAAU,CAAED,YAAAA,IAClBD,GAlFR,SAAmBD,GACjB,IAAMI,EAAU5B,SAAS6B,cAAc,SACvCD,EAAQE,KAAO,WACfF,EAAQG,kHAMUP,2SAiBSA,eAAkBA,shBAsBrBA,iCACCA,grBA0BzBxB,SAASgC,KAAKC,YAAYL,GAQtBM,CAAUV"}