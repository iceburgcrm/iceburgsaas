(function(s,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(s=typeof globalThis!="undefined"?globalThis:s||self,e(s["vue-stripe-js"]={},s.Vue))})(this,function(s,e){"use strict";const u={STRIPE_NOT_LOADED:"Stripe v3 library is not loaded",INSTANCE_NOT_DEFINED:"Instance object is not defined. Make sure you initialized Stripe before creating elements",ELEMENTS_NOT_DEFINED:"Elements object is not defined. You can't create stripe element without it",ELEMENT_TYPE_NOT_DEFINED:"elementType is required. You can't create stripe element without it"},f=(t,o)=>{try{if(!window.Stripe)throw new Error(u.STRIPE_NOT_LOADED);return window.Stripe(t,o)}catch(n){return console.error(n),n}},_=(t,o)=>{try{if(!t)throw new Error(u.INSTANCE_NOT_DEFINED);return t.elements(o)}catch(n){return console.error(n),n}},y=(t,o,n)=>{try{if(!t)throw new Error(u.ELEMENTS_NOT_DEFINED);if(!o)throw new Error(u.ELEMENT_TYPE_NOT_DEFINED);return t.create(o,n)}catch(r){return console.error(r),r}};var h=(t,o)=>{const n=t.__vccOpts||t;for(const[r,i]of o)n[r]=i;return n};const S=e.defineComponent({name:"StripeElement",props:{elements:{type:Object,required:!0},type:{type:String,default:()=>"card"},options:{type:Object,default:()=>({})}},setup(t,{emit:o}){const n=e.ref(document.createElement("div")),r=e.ref(),i=e.ref(),{elements:c,type:m,options:a}=e.toRefs(t);return e.onMounted(()=>{const l=()=>{r.value=y(c.value,m.value,a.value),r.value.mount(n.value),i.value.appendChild(n.value)},p=(d,E)=>{o(d,E)},I=()=>{["change","ready","focus","blur","click","escape"].forEach(E=>{r.value.on(E,p.bind(null,E))})};try{l(),I()}catch(d){console.error(d)}}),e.onBeforeUnmount(()=>{var l,p;(l=r.value)==null||l.unmount(),(p=r.value)==null||p.destroy()}),e.watch(a,()=>{var l;(l=r.value)==null||l.update(t.options)}),{stripeElement:r,domElement:n,mountPoint:i}}}),N={ref:"mountPoint"};function T(t,o,n,r,i,c){return e.openBlock(),e.createElementBlock("div",N,null,512)}var O=h(S,[["render",T]]);const v=e.defineComponent({name:"StripeElements",props:{stripeKey:{type:String,required:!0},instanceOptions:{type:Object,default:()=>({})},elementsOptions:{type:Object,default:()=>({})}},setup(t){const{stripeKey:o,instanceOptions:n,elementsOptions:r}=e.toRefs(t),i=e.ref(),c=e.ref(),m=e.computed(()=>c.value?Object.keys(c.value).length>0:!1);return e.onMounted(()=>{i.value=f(o.value,n.value),c.value=_(i.value,r.value)}),e.watch(r,()=>{var a;(a=c.value)==null||a.update(r.value)}),{elements:c,instance:i,elementsUsable:m}}}),w={key:0};function D(t,o,n,r,i,c){return t.elementsUsable?(e.openBlock(),e.createElementBlock("div",w,[e.renderSlot(t.$slots,"default",{instance:t.instance,elements:t.elements})])):e.createCommentVNode("",!0)}var b=h(v,[["render",D]]);s.StripeElement=O,s.StripeElements=b,s.createElement=y,s.createElements=_,s.initStripe=f,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
