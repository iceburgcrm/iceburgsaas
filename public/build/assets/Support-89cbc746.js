import{r as s,G as _,o as p,c as m,w as n,a as e,b as x,v as i,C as u,J as h}from"./app-1b79b513.js";import{_ as f}from"./AppLayout-6354d57d.js";import{_ as v}from"./Alert-916387da.js";const b=e("div",{class:"grid grid-flow-col auto-cols-auto place-content-between"},[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Support ")],-1),g={class:"py-12"},w={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},y={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},S={class:"p-10 bg-base-200"},T=e("div",null,[e("h1",{class:"text-center text-xl"},"Send a Message to Support")],-1),j={class:"form-control w-3/4 max-w-xs"},B=e("label",{class:"label"},[e("span",{class:"label-text"},"Subject")],-1),C={class:"grid grid-flow-row grid-row-auto"},D={class:"form-control"},M=e("label",{class:"label"},[e("span",{class:"label-text"},"Message")],-1),$={__name:"Support",setup(V){s(),s();const t=_({success_alert:s(""),error_alert:s(""),alert_text:s("")}),r=s(""),o=s(""),d=function(){t.alert_text="",t.success_alert=!1,t.error_alert=!1;const c=new FormData;c.append("message",r.value),c.append("subject",o.value);const a={"Content-Type":"multipart/form-data"};h.post("/data/support_message",c,{headers:a}).then(l=>{r.value="",o.value="",t.alert_text="Message has been sent",window.scrollTo(0,"top"),t.success_alert=!0,t.preview=!1,t.success_alert=!0,setTimeout(()=>{t.success_alert=null,t.alert_text=""},5e3)}).catch(function(l){t.alert_text="There was an error with your message.  Please try again or email support@iceburgcrm.com",t.error_alert=!0,setTimeout(()=>{t.error_alert=null,t.alert_text=""},5e3)})};return(c,a)=>(p(),m(f,{title:"Dashboard"},{header:n(()=>[b]),default:n(()=>[e("div",g,[e("div",w,[e("div",y,[x(v,{message:t.alert_text,is_successful:t.success_alert,is_error:t.error_alert},null,8,["message","is_successful","is_error"]),e("section",null,[e("div",S,[T,e("div",j,[B,i(e("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>o.value=l),type:"text",placeholder:"Subject",class:"input input-bordered w-full max-w-xs"},null,512),[[u,o.value]])]),e("div",C,[e("div",D,[M,i(e("textarea",{"onUpdate:modelValue":a[1]||(a[1]=l=>r.value=l),class:"textarea textarea-bordered h-24",placeholder:"Bio"},null,512),[[u,r.value]])]),e("div",null,[e("button",{onClick:d,class:"mt-5 btn btn-primary"},"Send")])])])])])])])]),_:1}))}};export{$ as default};
